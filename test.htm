<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
</head>

<body onload="render()">
    <table>
        <thead>
            <th>이름</th>
            <th>전화번호</th>
            <th>관리</th>
        </thead>
        <tbody id="test"></tbody>
    </table>
    <script>
        const userList = reqUserList(); // 함수 선언 전 변수 선언은 호이스팅에 의해 허락됨

        function reqUserList() {
            return [{
                name: "윾또막",
                phone: "010-1111-1111"
            }, {
                name: "장꾸",
                phone: "010-2222-2222"
            }];
        }

        function deleteUser(index) {
            userList.splice(index, 1);
            console.log(index)
            render();
        }

        function makeListToDom(list) {
            const dom = list.map(
                (elem, index) => `<tr>
                    <td>${elem.name}</td>
                    <td>${elem.phone}</td>
                    <td><button onclick='deleteUser(${index})'>삭제</button></td>
                </tr>`
            );

            return dom;
        }

        function renderList(dom) {
            const d = dom.join("");

            document.getElementById("test").innerHTML = d;
        }

        function render() {
            const userListDom = makeListToDom(userList);

            renderList(userListDom);
        }
    </script>
</body>

</html>